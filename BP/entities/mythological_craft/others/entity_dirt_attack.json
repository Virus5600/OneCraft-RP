{
    "format_version": "1.17.0",
    "minecraft:entity": {
        "description": {
            "identifier": "ocrp:entity_dirt_attack",
            "is_spawnable": false,
            "is_summonable": true
        },

        "components": {
            "minecraft:type_family": {"family": [ "inanimate" ]},

            "minecraft:health": {
                "value": 1,
                "max": 1
            },
            "minecraft:collision_box": {
                "height": 0,
                "width": 0
            },
            "minecraft:damage_sensor": {
                "triggers": [
                    {
                        "cause": "all",
                        "deals_damage": false
                    }
                ]
            },
            "minecraft:knockback_resistance": {
                "value": 100,
                "max": 100
            },
            
            "minecraft:physics": {
            },

            "minecraft:behavior.nearest_attackable_target": {
                "priority": 2,
                "reselect_targets": true,
                "entity_types": [
                  {
                    "filters": {  
                      "all_of": [
                        {
                         "test": "is_family",
                         "subject": "other",
                         "operator": "!=",
                         "value": "player"
                        }
                      ]
                    },
                    "max_dist": 30
                  }
                ],
                "must_see": true
              }
        },

        "component_groups": {
            "dspn":{
                "minecraft:instant_despawn": {
                    "remove_child_entities": false
                }
            },
            "knockback": {
                "minecraft:behavior.summon_entity": {
                    "priority": 2,
                    "summon_choices": [
                        {
                            "min_activation_range": 2.0,
                            "max_activation_range": 16.0,
                            "weight": 100,
                            "cooldown_time": 0.1,
                            "cast_duration": 1.0,
                            "particle_color": "#FF664D59",
                            "start_sound_event": "cast.spell",
                            "sequence": [
                                {
                                    "shape": "line",
                                    "target": "self",
                                    "base_delay": 0.1,
                                    "delay_per_summon": 0.05,
                                    "num_entities_spawned": 8,
                                    "entity_type": "ocrp:player_minotaur_attack",
                                    "size": 20,
                                    "entity_lifespan": 1.1
                                }
                            ]
                        }
                    ]
                },

                "minecraft:timer": {
					"time": [1.0, 1.0],
					"looping": false,
					"time_down_event": {
						"event": "dspn",
						"target": "self"
					}
				}
            }
        },

        "events": {
            "minecraft:entity_spawned": {
                "add": {
                    "component_groups": [
                        "knockback"
                    ]
                }
            },
            "dspn":{
                "add": {
                    "component_groups": [
                        "dspn"
                    ]
                }
            }
        }
    }
}
